<!DOCTYPE html>
<html>
<head>
  <title>Yoshi Collector</title>
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
  <div>
    <h1>Yoshi Collector</h1>
  </div>

  <div>
    <p>You will be given a random number at the start of the game</p>
    <p>There are four Yoshis below.  By clicking on a Yoshi you will add a specific amount of points to your total score.</p>
    <p>You win the game by matching your total score to the random number.  You lose the game if your total score goes above the random number.</p>
    <p>The value of each Yoshi is hidden from you until you click on it.</p>
    <p>Each time when the game starts, the game will change the values of each crystal.</p>
  </div>
  
  <div>
  <h2>Number to Guess: <span id="numberToGuess"></span></h2>
  </div>

  <div id="yoshis">
  </div>

  <div id="Score">
  </div>

  <div id="displayResults">
  </div>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function() {

  var wins = 0;
  var losses = 0;
  var counter = 0;
  var targetNumber = Math.floor(Math.random() * 100 + 1);

  $("#numberToGuess").text(targetNumber);

    var yoshiValue1 = Math.floor(Math.random() * 10 + 1);
    var yoshiValue2 = Math.floor(Math.random() * 10 + 1);
    var yoshiValue3 = Math.floor(Math.random() * 10 + 1);
    var yoshiValue4 = Math.floor(Math.random() * 10 + 1);

    var imageYoshi1 = $("<img>").addClass("yoshiImage").attr("src", "assets/images/Yoshi_PMCS.png").attr("data-yoshivalue", yoshiValue1).attr("id", "yoshi1");
    var imageYoshi2 = $("<img>").addClass("yoshiImage").attr("src", "assets/images/PMCS_Light_Blue_Yoshi.png").attr("data-yoshivalue", yoshiValue2).attr("id", "yoshi2");
    var imageYoshi3 = $("<img>").addClass("yoshiImage").attr("src", "assets/images/PMCS_Orange_Yoshi.png").attr("data-yoshivalue", yoshiValue3).attr("id", "yoshi3");
    var imageYoshi4 = $("<img>").addClass("yoshiImage").attr("src", "assets/images/PMCS_Purple_Yoshi.png").attr("data-yoshivalue", yoshiValue4).attr("id", "yoshi4");

    $("#yoshis").append(imageYoshi1);
    $("#yoshis").append(imageYoshi2);
    $("#yoshis").append(imageYoshi3);
    $("#yoshis").append(imageYoshi4);

    function displayResults(results) {
      var string = "";
      string += "Wins: " + wins + " ";
      string += "Losses: " + losses;
      $("#displayResults").text(string);
    }

    $(".yoshiImage").on("click", function() {

      var yoshiValue = ($(this).data("yoshivalue"));
      counter = counter + yoshiValue;

      function currentScore(score) {
        var score = "";
        score += "Your total score is: " + counter;
        $("#Score").text(score);
      }

      currentScore();
          
      console.log("New score: " + counter);

      if (counter === targetNumber) {
        console.log("You win!");
        wins++;
        displayResults();
        counter = 0;
        targetNumber = Math.floor(Math.random() * 100 + 1);
        $("#numberToGuess").text(targetNumber);
        score = "";
        score += "Your total score is: " + counter;
        $("#Score").text(score);
        yoshiValue1 = Math.floor(Math.random() * 10 + 1);
        yoshiValue2 = Math.floor(Math.random() * 10 + 1);
        yoshiValue3 = Math.floor(Math.random() * 10 + 1);
        yoshiValue4 = Math.floor(Math.random() * 10 + 1);
        $("#yoshi1").data("yoshivalue", yoshiValue1);
        $("#yoshi2").data("yoshivalue", yoshiValue2);
        $("#yoshi3").data("yoshivalue", yoshiValue3);
        $("#yoshi4").data("yoshivalue", yoshiValue4);
      }

      else if (counter > targetNumber) {
        console.log("You lose!!");
        losses++;
        displayResults();
        counter = 0;
        targetNumber = Math.floor(Math.random() * 100 + 1);
        $("#numberToGuess").text(targetNumber);
        score = "";
        score += "Your total score is: " + counter;
        $("#Score").text(score);
        yoshiValue1 = Math.floor(Math.random() * 10 + 1);
        yoshiValue2 = Math.floor(Math.random() * 10 + 1);
        yoshiValue3 = Math.floor(Math.random() * 10 + 1);
        yoshiValue4 = Math.floor(Math.random() * 10 + 1);
        $("#yoshi1").data("yoshivalue", yoshiValue1);
        $("#yoshi2").data("yoshivalue", yoshiValue2);
        $("#yoshi3").data("yoshivalue", yoshiValue3);
        $("#yoshi4").data("yoshivalue", yoshiValue4);
      }
  })

});
</script>
  
</body>
</html>